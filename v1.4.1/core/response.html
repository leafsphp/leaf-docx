<!DOCTYPE html>
<html>
  <head>
    <!-- Standard Meta -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1"
    />

    <link rel="image_src" type="image/jpeg" href="..\..\images\logo.png" />
    <link rel="shortcut icon" type="image/jpeg" href="..\..\images\logo.png" />

    <!-- Site Properities -->
    <meta name="generator" content="DocPad v6.79.4" />
    <title>Response</title>

    <meta name="description" content="Leaf is a PHP starter kit that helps you quickly write simple yet powerful web applications and APIs without any framework.">
    <meta name="keywords" content="PHP, backend, library, framework, api, server, routing">

    <script src="..\..\javascript\library\detect.min.js"></script>
    <script src="..\..\javascript\library\jquery.min.js"></script>
    <script src="..\..\javascript\library\clipboard.min.js"></script>
    <script src="..\..\javascript\library\cookie.min.js"></script>
    <script src="..\..\javascript\library\easing.min.js"></script>
    <script src="..\..\javascript\library\highlight.min.js"></script>
    <script src="..\..\javascript\library\history.min.js"></script>
    <script src="..\..\javascript\library\tablesort.min.js"></script>
    <script src="..\..\javascript\library\underscore.min.js"></script>

    <script src="..\..\dist\semantic.min.js"></script>

    <script src="..\..\javascript\docs.js"></script>

    <link
      rel="stylesheet"
      type="text/css"
      class="ui"
      href="..\..\dist\semantic.min.css"
    />

    <link rel="stylesheet" type="text/css" href="..\..\stylesheets\docs.css" />
    <link rel="stylesheet" type="text/css" href="..\..\stylesheets\rtl.css" />

    
  </head>
  <body id="example" class="cla" ontouchstart="">
    <div class="ui vertical inverted sidebar menu" id="toc">
      <div class="item">
        <a class="ui logo icon image" href="..\index.html">
          <img alt="pic" src="..\..\images\logo.png" />
        </a>
        <a href="..\index.html"><b>Leaf Docs</b></a>
      </div>
      <a class="item" href="../introduction/getting-started.html">
        <b>Getting Started</b>
      </a>
      <a class="item" href="https://github.com/leafsphp/leaf/blob/v1.3.0/CHANGELOG.md">
      <b>New in v1.3.0</b>
    </a>
      <div class="item">
        <div class="header">Versions</div>
        <div class="menu">
            <a class="item" href="../../v1.2.0/index.html">Version 1.2.0</a>
            <a class="item" href="../../v1.3.0/index.html">Version 1.3.0</a>
            <a class="item" href="../../v1.4.1/index.html">Version 1.4.1</a>
            <a class="item" href="../../v1.4.2/index.html">Version 1.4.2</a>
            <a class="item" href="../../v1.5.0/index.html">Version 1.5.0</a>
        </div>
      </div>

      <div class="item">
        <div class="header">Introduction</div>
        <div class="menu">
          <a class="item" href="../introduction/re-routing-to-index.html">Re-routing to index</a>
          <a class="item" href="../introduction/index.php.html">Your First Leaf App</a>
          <!-- <a class="item" href="../introduction/init.html">Class Initialisations</a> -->
        </div>
      </div>

      <div class="item">
        <div class=" header">Config</div>
        <div class="menu">
          <a class="item" href="../config/database.html">Database</a>
          <a class="item" href="../config/app-headers.html">App Headers</a>
        </div>
      </div>

      <div class="item">
        <div class=" header">Core Modules</div>
        <div class="menu">
          <a class="item" href="../core/simple-authentication.html">Simple Authentication</a>
          <a class="item" href="../core/form.html">Simple field Validation</a>
          <a class="item" href="../core/date-manipulation.html">Date Manipulation</a>
          <a class="item" href="../core/request.html">Request</a>
          <a class="item" href="../core/response.html">Response</a>
          <a class="item" href="../core/session.html">Session</a>
          <a class="item" href="../core/fs.html">File System</a>
          <a class="item" href="../core/token.html">Leaf Token</a>
          <a class="item" href="../core/api-controller.html">Core Api Controller</a>
          <a class="item" href="../core/controller.html">Core Controller</a>
          <a class="item" href="../core/model.html">Core Model</a>
        </div>
      </div>

      <div class="item">
        <div class=" header">Routing</div>
        <div class="menu">
          <a class="item" href="../routing/simple-routing.html">Simple routing</a>
          <a class="item" href="../routing/404-handling.html">404 handling</a>
          <a class="item" href="../routing/sub-routing.html">Sub routing</a>
          <a class="item" href="../routing/named-parameters.html">Named parameters</a>
          <a class="item" href="../routing/pcre-patterns.html">PCRE based patterns</a>
          <a class="item" href="../routing/optional-subpatterns.html">Optional Sub-patterns</a>
          <a class="item" href="../routing/controllers.html">Using Controllers</a>
          <a class="item" href="../routing/library-integration.html">Integrating with other libraries</a>
          <a class="item" href="../routing/middleware.html">Using Middleware</a>
          <a class="item" href="../routing/sub-folder.html">Sub-folder Support</a>
        </div>
      </div>

      <div class="item">
        <div class=" header">Helpers</div>
        <div class="menu">
          <a class="item" href="../helpers/constants.html">Constants</a>
          <a class="item" href="../helpers/jwt.html">JWT</a>
        </div>
      </div>
    </div>

    <div class="ui black big launch right attached fixed button">
      <i class="content icon"></i>
      <span class="text">Menu</span>
    </div>

    <div class="ui fixed inverted main menu">
      <div class="ui container">
        <a class="launch icon item">
          <i class="content icon"></i>
        </a>

        <div class="item">
          Response
        </div>
        <div class="right menu">
          <div class="vertically fitted borderless item">
            <iframe class="github" src="https://ghbtns.com/github-btn.html?user=leafsphp&repo=leaf&type=star&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20"></iframe>
          </div>
        </div>
      </div>
    </div>

    <div class="pusher">
      <div class="full height">
        <div class="toc">
          <div class="ui vertical inverted menu">
            <div class="item">
              <a class="ui logo icon image" href="..\index.html">
                <img alt="pic" src="..\..\images\logo.png" />
              </a>
              <a href="..\index.html"><b>Leaf Docs</b></a>
            </div>
            <a class="item" href="../introduction/getting-started.html">
              <b>Getting Started</b>
            </a>
            <a class="item" href="https://github.com/leafsphp/leaf/blob/v1.3.0/CHANGELOG.md">
              <b>New in v1.3.0</b>
            </a>1.4.1
            <div class="item">
              <div class="header">Versions</div>
              <div class="menu">
                  <a class="item" href="../../v1.3.0/index.html">Version 1.3.0</a>
                  <a class="item" href="https://github.com/leafsphp/leaf/releases/tag/v1.4.1">Version 1.4.1</a>tag/v1.4.1">Version 1.4.1</a>
                  <a class="item" href="../../v1.4.2/index.html">Version 1.4.2</a>
              </div>
            </div>

            <div class="item">
              <div class="header">Introduction</div>
              <div class="menu">
                <a class="item" href="../introduction/re-routing-to-index.html">Re-routing to index</a>
                <a class="item" href="../introduction/index.php.html">Your First Leaf App</a>
                <!-- <a class="item" href="../introduction/init.html">Class Initialisations</a> -->
              </div>
            </div>

            <div class="item">
              <div class=" header">Config</div>
              <div class="menu">
                <a class="item" href="../config/database.html">Database</a>
                <a class="item" href="../config/app-headers.html">App Headers</a>
              </div>
            </div>

            <div class="item">
              <div class=" header">Core Modules</div>
              <div class="menu">
                <a class="item" href="../core/simple-authentication.html">Simple Authentication</a>
                <a class="item" href="../core/form.html">Simple field Validation</a>
                <a class="item" href="../core/date-manipulation.html">Date Manipulation</a>
                <a class="item" href="../core/request.html">Request</a>
                <a class="item" href="../core/response.html">Response</a>
                <a class="item" href="../core/session.html">Session</a>
                <a class="item" href="../core/fs.html">File System</a>
                <a class="item" href="../core/token.html">Leaf Token</a>
                <a class="item" href="../core/api-controller.html">Core Api Controller</a>
                <a class="item" href="../core/controller.html">Core Controller</a>
                <a class="item" href="../core/model.html">Core Model</a>
              </div>
            </div>

            <div class="item">
              <div class=" header">Routing</div>
              <div class="menu">
                <a class="item" href="../routing/simple-routing.html">Simple routing</a>
                <a class="item" href="../routing/404-handling.html">404 handling</a>
                <a class="item" href="../routing/sub-routing.html">Sub routing</a>
                <a class="item" href="../routing/named-parameters.html">Named parameters</a>
                <a class="item" href="../routing/pcre-patterns.html">PCRE based patterns</a>
                <a class="item" href="../routing/optional-subpatterns.html">Optional Sub-patterns</a>
                <a class="item" href="../routing/controllers.html">Using Controllers</a>
                <a class="item" href="../routing/library-integration.html">Integrating with other libraries</a>
                <a class="item" href="../routing/middleware.html">Using Middleware</a>
                <a class="item" href="../routing/sub-folder.html">Sub-folder Support</a>
              </div>
            </div>

            <div class="item">
              <div class=" header">Helpers</div>
              <div class="menu">
                <a class="item" href="../helpers/constants.html">Constants</a>
                <a class="item" href="../helpers/jwt.html">JWT</a>
              </div>
            </div>
          </div>
        </div>
        <div class="article">
          <div class="ui masthead vertical segment">
            <div class="ui container">
              <div class="introduction">
                <h1 class="ui header">
                  Response

                  <div class="sub header">
                    Leaf's handy response class
                    <iframe class="github" src="https://ghbtns.com/github-btn.html?user=leafsphp&repo=leaf&type=star&count=true&amp;" allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20"></iframe>
                  </div>
                </h1>

                <div class="ui hidden divider"></div>

                <!-- <div class="ui right floated main menu">
        <a class="bug popup icon item" data-content="Edit This Page" href="#">
          <i class="edit icon"></i>
        </a>
      </div> -->
              </div>
            </div>
          </div>

          <div class="main ui intro container">
            <h2 class="ui dividing header">Overview</h2>
            <p>
              Leaf tries as much as possible to use raw PHP written from scratch, so, instead of using PSR-7 like most frameworks do, Leaf has written predefined response methods.<br>
              In v1.3, Request is now part of the HTTP namespace.
            </p>

            <div class="no example">
              <h4 class="ui header">Including Response</h4>
              <p>
                To include the Response object in a route, use this:
                <div class="ignored code" data-type="php">
use Leaf\Core\Http\Response;

$response = new Response();

$leaf->get('/', function() use($response) {
  $response->renderHtmlPage('./link/to/page');
});
                </div>
                Here, we set <code>$response</code> to the <code>Response</code> class, and we pass it into the route with <code>use()</code>.
              </p>
            </div>
            
            

            <h2 class="ui dividing header">Response Methods</h2>
            In v1.3, Response methods no longer use the <code>echo</code> keyword. Everything is handled in Response.

            <div class="no example">
              <h4 class="ui header">respond()</h4>
              <p>
                Respond is a method built for APIs and direct responses to the user. This response is encoded as JSON and output as such
              </p>

              <div class="ui active basic tab vertical segment" data-tab="mac">
                <div class="ignored code" data-type="php">
use Leaf\Core\Http\Response;

$response = new Response();

$leaf->get('/', function() use($response) {
  $response->respond(["message" => "something"]);
});
                </div>
              </div>
            </div>

            <div class="no example">
              <h4 class="ui header">respondWithCode()</h4>
              <p>
                RespondWithCode is also a method built for APIs and direct responses to the user. This response is encoded as JSON and output as such, but it includes a section for the http code(default is 200)
              </p>

              <div class="ui active basic tab vertical segment" data-tab="mac">
                <div class="ignored code" data-type="php">
use Leaf\Core\Http\Response;

$response = new Response();

$leaf->get('/', function() use($response) {
  $response->respondWithCode(["message" => "something"], 200);
});
                </div>
              </div>
            </div>


            <div class="no example">
              <h4 class="ui header">throwErr()</h4>
              <p>
                throwErr is also a method built for APIs and direct responses to the user, however, this method is suitable for errors only. 
                The response is encoded as JSON and output as such, also, the correct headers are set for the error. It also includes a section for the http error code.<br>
                More info on http status codes <a href="https://www.restapitutorial.com/httpstatuscodes.html" target="_blank" rel="noopener noreferrer">here</a>
              </p>

              <div class="ui active basic tab vertical segment" data-tab="mac">
                <div class="ignored code" data-type="php">
use Leaf\Core\Http\Response;

$response = new Response();

$leaf->get('/name', function() use($response) {
  $name = "something";
  $name ==  null ? $response->throwErr('Name is null', $code) : null;
});
                </div>
              </div>
            </div>


            <div class="no example">
              <h4 class="ui header">renderHtmlPage()</h4>
              <p>
                renderHtmlPage is a method built for websites and webapps. This method is can be used with the routing to achieve server side routing, for example:
              </p>

              <div class="ui active basic tab vertical segment" data-tab="mac">
                <div class="ignored code" data-type="php">
use Leaf\Core\Http\Response;

$response = new Response();

$leaf->get('/homepage', function() use($response) {
  $response->renderHtmlPage('link/to/home.html');
});
                </div>
                With this, whenever the route <code>/homepage</code> is invoked, Leaf loads up <code>home.html</code> and outputs it to the user
              </div>
            </div>


            <div class="no example">
              <h4 class="ui header">renderMarkup()</h4>
              <p>
                renderMarkup is another method built for websites and webapps. This method outputs any html entered into it with a content type of text/html:
              </p>
              For instance, with this code,
              <div class="ignored code" data-type="html">
                $code = "<h2>Hello</h2>";
              </div>

              We simply pass it into the response...like this
              <div class="ignored code" data-type="php">
use Leaf\Core\Http\Response;

$response = new Response();

$leaf->get('/homepage', function() use($response) {
  // $code defined
  $response->renderMarkup($code);
});
              </div>
              You might be wondering why we don't just use <div class="ignored code" data-type="html">echo "<h1>hello</h1>";</div>
              The reason is, Leaf has default headers which set the content type to JSON, in order to correctly output HTML, you need to change this....Leaf has taken care of this, all within <code>renderMarkup</code> and <code>renderHtmlPage</code>
            </div>

            <h2 class="ui dividing header">Next Steps</h2>

            <a href="../routing/simple-routing.html" style="font-size: 18px;">Simple Routing</a><br />
            <a href="./request.html" style="font-size: 18px;">Request</a><br />
            <a href="./simple-authentication.html" style="font-size: 18px;">Simple Authentication</a><br />
            <a href="../config/database.html" style="font-size: 18px;">Database Config</a>
          </div>

          <div class="ui  vertical footer segment">
            <div class="ui center aligned container">
              <img alt="pic" src="..\..\images\logo.png" class="ui centered mini image" />
              <div class="ui horizontal small divided link list">
                <a class="item" href="#" target="_blank">Free & Open Source (MIT)</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <script>
      window.less = {
        async: true,
        environment: "production",
        fileAsync: false,
        onReady: false,
        useFileCache: true
      };
    </script>

    <script src="..\..\javascript\library\less.min.js"></script>
  </body>
</html>
